{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"animated/lib/targets/react-dom\"));\n\nvar _class, _temp;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar _default = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(_default, _React$Component);\n\n  function _default(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _initialiseProps.call(_assertThisInitialized(_this));\n\n    _this.state = {\n      ready: false\n    };\n    _this.layers = [];\n    _this.space = 0;\n    _this.current = 0;\n    _this.offset = 0;\n    _this.busy = false;\n    return _this;\n  }\n\n  var _proto = _default.prototype;\n\n  _proto.scrollTo = function scrollTo(offset) {\n    var _props = this.props,\n        horizontal = _props.horizontal,\n        effect = _props.effect;\n    this.scrollStop();\n    this.offset = offset;\n    var target = this.refs.container;\n    this.animatedScroll = new _reactDom.default.Value(target[horizontal ? 'scrollLeft' : 'scrollTop']);\n    this.animatedScroll.addListener(function (_ref) {\n      var value = _ref.value;\n      return target[horizontal ? 'scrollLeft' : 'scrollTop'] = value;\n    });\n    effect(this.animatedScroll, offset * this.space).start();\n  };\n\n  _proto.getChildContext = function getChildContext() {\n    return {\n      parallax: this\n    };\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('resize', this.updateRaf, false);\n    this.update();\n    this.setState({\n      ready: true\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('resize', this.updateRaf, false);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.update();\n  };\n\n  _proto.render = function render() {\n    var _objectSpread2;\n\n    var _props2 = this.props,\n        style = _props2.style,\n        innerStyle = _props2.innerStyle,\n        pages = _props2.pages,\n        className = _props2.className,\n        scrolling = _props2.scrolling,\n        children = _props2.children,\n        horizontal = _props2.horizontal;\n    var overflow = scrolling ? 'scroll' : 'hidden';\n    return _react.default.createElement(\"div\", {\n      ref: \"container\",\n      onScroll: this.onScroll,\n      onWheel: scrolling ? this.scrollStop : null,\n      onTouchStart: scrolling ? this.scrollStop : null,\n      style: _objectSpread({\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        overflow: overflow,\n        overflowY: horizontal ? 'hidden' : overflow,\n        overflowX: horizontal ? overflow : 'hidden',\n        WebkitOverflowScrolling: 'touch',\n        WebkitTransform: 'translate(0,0)',\n        MsTransform: 'translate(0,0)',\n        transform: 'translate3d(0,0,0)'\n      }, style),\n      className: className\n    }, this.state.ready && _react.default.createElement(\"div\", {\n      ref: \"content\",\n      style: _objectSpread((_objectSpread2 = {\n        position: 'absolute'\n      }, _objectSpread2[horizontal ? 'height' : 'width'] = '100%', _objectSpread2.WebkitTransform = 'translate(0,0)', _objectSpread2.MsTransform = 'translate(0,0)', _objectSpread2.transform = 'translate3d(0,0,0)', _objectSpread2.overflow = 'hidden', _objectSpread2[horizontal ? 'width' : 'height'] = this.space * pages, _objectSpread2), innerStyle)\n    }, children));\n  };\n\n  return _default;\n}(_react.default.Component);\n\nexports.default = _default;\nObject.defineProperty(_default, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    pages: _propTypes.default.number.isRequired,\n    effect: _propTypes.default.func,\n    scrolling: _propTypes.default.bool,\n    horizontal: _propTypes.default.bool\n  }\n});\nObject.defineProperty(_default, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    effect: function effect(animation, toValue) {\n      return _reactDom.default.spring(animation, {\n        toValue: toValue\n      });\n    },\n    scrolling: true,\n    horizontal: false\n  }\n});\nObject.defineProperty(_default, \"childContextTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    parallax: _propTypes.default.object\n  }\n});\nObject.defineProperty(_default, \"Layer\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: (_temp = _class = /*#__PURE__*/function (_React$Component2) {\n    _inheritsLoose(value, _React$Component2);\n\n    function value(props, context) {\n      var _this2;\n\n      _this2 = _React$Component2.call(this, props, context) || this;\n      var parallax = context.parallax;\n      var targetScroll = Math.floor(props.offset) * parallax.space;\n      var offset = parallax.space * props.offset + targetScroll * props.speed;\n      var toValue = parseFloat(-(parallax.current * props.speed) + offset);\n      _this2.animatedTranslate = new _reactDom.default.Value(toValue);\n      _this2.animatedSpace = new _reactDom.default.Value(parallax.space * props.factor);\n      return _this2;\n    }\n\n    var _proto2 = value.prototype;\n\n    _proto2.componentDidMount = function componentDidMount() {\n      var parent = this.context.parallax;\n\n      if (parent) {\n        parent.layers = parent.layers.concat(this);\n        parent.update();\n      }\n    };\n\n    _proto2.componentWillUnmount = function componentWillUnmount() {\n      var _this3 = this;\n\n      var parent = this.context.parallax;\n\n      if (parent) {\n        parent.layers = parent.layers.filter(function (layer) {\n          return layer !== _this3;\n        });\n        parent.update();\n      }\n    };\n\n    _proto2.setPosition = function setPosition(height, scrollTop, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var targetScroll = Math.floor(this.props.offset) * height;\n      var offset = height * this.props.offset + targetScroll * this.props.speed;\n      var toValue = parseFloat(-(scrollTop * this.props.speed) + offset);\n      if (!immediate) this.context.parallax.props.effect(this.animatedTranslate, toValue).start();else this.animatedTranslate.setValue(toValue);\n    };\n\n    _proto2.setHeight = function setHeight(height, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var toValue = parseFloat(height * this.props.factor);\n      if (!immediate) this.context.parallax.props.effect(this.animatedSpace, toValue).start();else this.animatedSpace.setValue(toValue);\n    };\n\n    _proto2.render = function render() {\n      var _objectSpread3;\n\n      var _props3 = this.props,\n          style = _props3.style,\n          children = _props3.children,\n          offset = _props3.offset,\n          speed = _props3.speed,\n          factor = _props3.factor,\n          className = _props3.className,\n          props = _objectWithoutProperties(_props3, [\"style\", \"children\", \"offset\", \"speed\", \"factor\", \"className\"]);\n\n      var horizontal = this.context.parallax.props.horizontal;\n      var translate3d = this.animatedTranslate.interpolate({\n        inputRange: [0, 1],\n        outputRange: horizontal ? ['0px,0,0', '1px,0,0'] : ['0,0px,0', '0,1px,0']\n      });\n      return _react.default.createElement(_reactDom.default.div, _extends({}, props, {\n        ref: \"layer\",\n        className: className,\n        style: _objectSpread((_objectSpread3 = {\n          position: 'absolute',\n          backgroundSize: 'auto',\n          backgroundRepeat: 'no-repeat',\n          willChange: 'transform'\n        }, _objectSpread3[horizontal ? 'height' : 'width'] = '100%', _objectSpread3[horizontal ? 'width' : 'height'] = this.animatedSpace, _objectSpread3.WebkitTransform = [{\n          translate3d: translate3d\n        }], _objectSpread3.MsTransform = [{\n          translate3d: translate3d\n        }], _objectSpread3.transform = [{\n          translate3d: translate3d\n        }], _objectSpread3), style)\n      }), children);\n    };\n\n    return value;\n  }(_react.default.Component), Object.defineProperty(_class, \"contextTypes\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: {\n      parallax: _propTypes.default.object\n    }\n  }), Object.defineProperty(_class, \"propTypes\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: {\n      factor: _propTypes.default.number,\n      offset: _propTypes.default.number,\n      speed: _propTypes.default.number\n    }\n  }), Object.defineProperty(_class, \"defaultProps\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: {\n      factor: 1,\n      offset: 0,\n      speed: 0\n    }\n  }), _temp)\n});\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  Object.defineProperty(this, \"moveItems\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      _this4.layers.forEach(function (layer) {\n        return layer.setPosition(_this4.space, _this4.current);\n      });\n\n      _this4.busy = false;\n    }\n  });\n  Object.defineProperty(this, \"scrollerRaf\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      return requestAnimationFrame(_this4.moveItems);\n    }\n  });\n  Object.defineProperty(this, \"onScroll\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value(event) {\n      var horizontal = _this4.props.horizontal;\n\n      if (!_this4.busy) {\n        _this4.busy = true;\n\n        _this4.scrollerRaf();\n\n        _this4.current = event.target[horizontal ? 'scrollLeft' : 'scrollTop'];\n      }\n    }\n  });\n  Object.defineProperty(this, \"update\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      var _this4$props = _this4.props,\n          scrolling = _this4$props.scrolling,\n          horizontal = _this4$props.horizontal;\n      if (!_this4.refs.container) return;\n      _this4.space = _this4.refs.container[horizontal ? 'clientWidth' : 'clientHeight'];\n      if (scrolling) _this4.current = _this4.refs.container[horizontal ? 'scrollLeft' : 'scrollTop'];else _this4.refs.container[horizontal ? 'scrollLeft' : 'scrollTop'] = _this4.current = _this4.offset * _this4.space;\n      if (_this4.refs.content) _this4.refs.content.style[horizontal ? 'width' : 'height'] = _this4.space * _this4.props.pages + \"px\";\n\n      _this4.layers.forEach(function (layer) {\n        layer.setHeight(_this4.space, true);\n        layer.setPosition(_this4.space, _this4.current, true);\n      });\n    }\n  });\n  Object.defineProperty(this, \"updateRaf\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      requestAnimationFrame(_this4.update); // Some browsers don't fire on maximize\n\n      setTimeout(_this4.update, 150);\n    }\n  });\n  Object.defineProperty(this, \"scrollStop\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value(event) {\n      return _this4.animatedScroll && _this4.animatedScroll.stopAnimation();\n    }\n  });\n};","map":{"version":3,"sources":["/Users/pwamsley/Desktop/important/programming/training/node_modules/react-springy-parallax/dist/index.js"],"names":["exports","__esModule","default","_react","_interopRequireDefault","require","_propTypes","_reactDom","_class","_temp","obj","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_objectSpread","ownKeys","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","value","defineProperty","configurable","writable","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_assertThisInitialized","self","ReferenceError","_default","_React$Component","props","_this","_initialiseProps","state","ready","layers","space","current","offset","busy","_proto","scrollTo","_props","horizontal","effect","scrollStop","refs","container","animatedScroll","Value","addListener","_ref","start","getChildContext","parallax","componentDidMount","window","addEventListener","updateRaf","update","setState","componentWillUnmount","removeEventListener","componentDidUpdate","render","_objectSpread2","_props2","style","innerStyle","pages","className","scrolling","children","overflow","createElement","ref","onScroll","onWheel","onTouchStart","position","width","height","overflowY","overflowX","WebkitOverflowScrolling","WebkitTransform","MsTransform","transform","Component","number","isRequired","func","bool","animation","toValue","spring","object","_React$Component2","context","_this2","targetScroll","Math","floor","speed","parseFloat","animatedTranslate","animatedSpace","factor","_proto2","parent","_this3","layer","setPosition","scrollTop","immediate","setValue","setHeight","_objectSpread3","_props3","translate3d","interpolate","inputRange","outputRange","div","backgroundSize","backgroundRepeat","willChange","_this4","requestAnimationFrame","moveItems","event","scrollerRaf","_this4$props","content","setTimeout","stopAnimation"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"animated/lib/targets/react-dom\"));\n\nvar _class, _temp;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(_default, _React$Component);\n\n  function _default(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _initialiseProps.call(_assertThisInitialized(_this));\n\n    _this.state = {\n      ready: false\n    };\n    _this.layers = [];\n    _this.space = 0;\n    _this.current = 0;\n    _this.offset = 0;\n    _this.busy = false;\n    return _this;\n  }\n\n  var _proto = _default.prototype;\n\n  _proto.scrollTo = function scrollTo(offset) {\n    var _props = this.props,\n        horizontal = _props.horizontal,\n        effect = _props.effect;\n    this.scrollStop();\n    this.offset = offset;\n    var target = this.refs.container;\n    this.animatedScroll = new _reactDom.default.Value(target[horizontal ? 'scrollLeft' : 'scrollTop']);\n    this.animatedScroll.addListener(function (_ref) {\n      var value = _ref.value;\n      return target[horizontal ? 'scrollLeft' : 'scrollTop'] = value;\n    });\n    effect(this.animatedScroll, offset * this.space).start();\n  };\n\n  _proto.getChildContext = function getChildContext() {\n    return {\n      parallax: this\n    };\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('resize', this.updateRaf, false);\n    this.update();\n    this.setState({\n      ready: true\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('resize', this.updateRaf, false);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.update();\n  };\n\n  _proto.render = function render() {\n    var _objectSpread2;\n\n    var _props2 = this.props,\n        style = _props2.style,\n        innerStyle = _props2.innerStyle,\n        pages = _props2.pages,\n        className = _props2.className,\n        scrolling = _props2.scrolling,\n        children = _props2.children,\n        horizontal = _props2.horizontal;\n    var overflow = scrolling ? 'scroll' : 'hidden';\n    return _react.default.createElement(\"div\", {\n      ref: \"container\",\n      onScroll: this.onScroll,\n      onWheel: scrolling ? this.scrollStop : null,\n      onTouchStart: scrolling ? this.scrollStop : null,\n      style: _objectSpread({\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        overflow: overflow,\n        overflowY: horizontal ? 'hidden' : overflow,\n        overflowX: horizontal ? overflow : 'hidden',\n        WebkitOverflowScrolling: 'touch',\n        WebkitTransform: 'translate(0,0)',\n        MsTransform: 'translate(0,0)',\n        transform: 'translate3d(0,0,0)'\n      }, style),\n      className: className\n    }, this.state.ready && _react.default.createElement(\"div\", {\n      ref: \"content\",\n      style: _objectSpread((_objectSpread2 = {\n        position: 'absolute'\n      }, _objectSpread2[horizontal ? 'height' : 'width'] = '100%', _objectSpread2.WebkitTransform = 'translate(0,0)', _objectSpread2.MsTransform = 'translate(0,0)', _objectSpread2.transform = 'translate3d(0,0,0)', _objectSpread2.overflow = 'hidden', _objectSpread2[horizontal ? 'width' : 'height'] = this.space * pages, _objectSpread2), innerStyle)\n    }, children));\n  };\n\n  return _default;\n}(_react.default.Component);\n\nexports.default = _default;\nObject.defineProperty(_default, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    pages: _propTypes.default.number.isRequired,\n    effect: _propTypes.default.func,\n    scrolling: _propTypes.default.bool,\n    horizontal: _propTypes.default.bool\n  }\n});\nObject.defineProperty(_default, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    effect: function effect(animation, toValue) {\n      return _reactDom.default.spring(animation, {\n        toValue: toValue\n      });\n    },\n    scrolling: true,\n    horizontal: false\n  }\n});\nObject.defineProperty(_default, \"childContextTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    parallax: _propTypes.default.object\n  }\n});\nObject.defineProperty(_default, \"Layer\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: (_temp = _class =\n  /*#__PURE__*/\n  function (_React$Component2) {\n    _inheritsLoose(value, _React$Component2);\n\n    function value(props, context) {\n      var _this2;\n\n      _this2 = _React$Component2.call(this, props, context) || this;\n      var parallax = context.parallax;\n      var targetScroll = Math.floor(props.offset) * parallax.space;\n      var offset = parallax.space * props.offset + targetScroll * props.speed;\n      var toValue = parseFloat(-(parallax.current * props.speed) + offset);\n      _this2.animatedTranslate = new _reactDom.default.Value(toValue);\n      _this2.animatedSpace = new _reactDom.default.Value(parallax.space * props.factor);\n      return _this2;\n    }\n\n    var _proto2 = value.prototype;\n\n    _proto2.componentDidMount = function componentDidMount() {\n      var parent = this.context.parallax;\n\n      if (parent) {\n        parent.layers = parent.layers.concat(this);\n        parent.update();\n      }\n    };\n\n    _proto2.componentWillUnmount = function componentWillUnmount() {\n      var _this3 = this;\n\n      var parent = this.context.parallax;\n\n      if (parent) {\n        parent.layers = parent.layers.filter(function (layer) {\n          return layer !== _this3;\n        });\n        parent.update();\n      }\n    };\n\n    _proto2.setPosition = function setPosition(height, scrollTop, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var targetScroll = Math.floor(this.props.offset) * height;\n      var offset = height * this.props.offset + targetScroll * this.props.speed;\n      var toValue = parseFloat(-(scrollTop * this.props.speed) + offset);\n      if (!immediate) this.context.parallax.props.effect(this.animatedTranslate, toValue).start();else this.animatedTranslate.setValue(toValue);\n    };\n\n    _proto2.setHeight = function setHeight(height, immediate) {\n      if (immediate === void 0) {\n        immediate = false;\n      }\n\n      var toValue = parseFloat(height * this.props.factor);\n      if (!immediate) this.context.parallax.props.effect(this.animatedSpace, toValue).start();else this.animatedSpace.setValue(toValue);\n    };\n\n    _proto2.render = function render() {\n      var _objectSpread3;\n\n      var _props3 = this.props,\n          style = _props3.style,\n          children = _props3.children,\n          offset = _props3.offset,\n          speed = _props3.speed,\n          factor = _props3.factor,\n          className = _props3.className,\n          props = _objectWithoutProperties(_props3, [\"style\", \"children\", \"offset\", \"speed\", \"factor\", \"className\"]);\n\n      var horizontal = this.context.parallax.props.horizontal;\n      var translate3d = this.animatedTranslate.interpolate({\n        inputRange: [0, 1],\n        outputRange: horizontal ? ['0px,0,0', '1px,0,0'] : ['0,0px,0', '0,1px,0']\n      });\n      return _react.default.createElement(_reactDom.default.div, _extends({}, props, {\n        ref: \"layer\",\n        className: className,\n        style: _objectSpread((_objectSpread3 = {\n          position: 'absolute',\n          backgroundSize: 'auto',\n          backgroundRepeat: 'no-repeat',\n          willChange: 'transform'\n        }, _objectSpread3[horizontal ? 'height' : 'width'] = '100%', _objectSpread3[horizontal ? 'width' : 'height'] = this.animatedSpace, _objectSpread3.WebkitTransform = [{\n          translate3d: translate3d\n        }], _objectSpread3.MsTransform = [{\n          translate3d: translate3d\n        }], _objectSpread3.transform = [{\n          translate3d: translate3d\n        }], _objectSpread3), style)\n      }), children);\n    };\n\n    return value;\n  }(_react.default.Component), Object.defineProperty(_class, \"contextTypes\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: {\n      parallax: _propTypes.default.object\n    }\n  }), Object.defineProperty(_class, \"propTypes\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: {\n      factor: _propTypes.default.number,\n      offset: _propTypes.default.number,\n      speed: _propTypes.default.number\n    }\n  }), Object.defineProperty(_class, \"defaultProps\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: {\n      factor: 1,\n      offset: 0,\n      speed: 0\n    }\n  }), _temp)\n});\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  Object.defineProperty(this, \"moveItems\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      _this4.layers.forEach(function (layer) {\n        return layer.setPosition(_this4.space, _this4.current);\n      });\n\n      _this4.busy = false;\n    }\n  });\n  Object.defineProperty(this, \"scrollerRaf\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      return requestAnimationFrame(_this4.moveItems);\n    }\n  });\n  Object.defineProperty(this, \"onScroll\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value(event) {\n      var horizontal = _this4.props.horizontal;\n\n      if (!_this4.busy) {\n        _this4.busy = true;\n\n        _this4.scrollerRaf();\n\n        _this4.current = event.target[horizontal ? 'scrollLeft' : 'scrollTop'];\n      }\n    }\n  });\n  Object.defineProperty(this, \"update\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      var _this4$props = _this4.props,\n          scrolling = _this4$props.scrolling,\n          horizontal = _this4$props.horizontal;\n      if (!_this4.refs.container) return;\n      _this4.space = _this4.refs.container[horizontal ? 'clientWidth' : 'clientHeight'];\n      if (scrolling) _this4.current = _this4.refs.container[horizontal ? 'scrollLeft' : 'scrollTop'];else _this4.refs.container[horizontal ? 'scrollLeft' : 'scrollTop'] = _this4.current = _this4.offset * _this4.space;\n      if (_this4.refs.content) _this4.refs.content.style[horizontal ? 'width' : 'height'] = _this4.space * _this4.props.pages + \"px\";\n\n      _this4.layers.forEach(function (layer) {\n        layer.setHeight(_this4.space, true);\n        layer.setPosition(_this4.space, _this4.current, true);\n      });\n    }\n  });\n  Object.defineProperty(this, \"updateRaf\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value() {\n      requestAnimationFrame(_this4.update); // Some browsers don't fire on maximize\n\n      setTimeout(_this4.update, 150);\n    }\n  });\n  Object.defineProperty(this, \"scrollStop\", {\n    configurable: true,\n    enumerable: true,\n    writable: true,\n    value: function value(event) {\n      return _this4.animatedScroll && _this4.animatedScroll.stopAnimation();\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"script"}