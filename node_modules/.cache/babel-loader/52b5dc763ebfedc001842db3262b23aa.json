{"ast":null,"code":"var _jsxFileName = \"/Users/pwamsley/Desktop/important/programming/training/src/components/Dashboard.js\";\nimport React from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { Line } from \"react-chartjs-2\";\nimport \"../index.css\";\nimport * as firebase from \"firebase\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDVxWrRq-2t41ru4L3TmAW-EOYvX-sEOUY\",\n  authDomain: \"friday-4eeac.firebaseio.com\",\n  databaseURL: \"https://friday-4eeac.firebaseio.com\",\n  storageBucket: \"friday-4eeac.firebaseio.com\"\n};\nfirebase.initializeApp(firebaseConfig);\nconst db = {\n  week: {\n    days: [\"Day 1\", \"Day 2\", \"Day 3\", \"Day 4\"],\n    stress: \"Low\",\n    song: \"https://www.youtube.com/watch?v=cxkdIFOJAhw\"\n  }\n};\nconst bwChartOptions = {\n  title: {\n    display: false,\n    text: \"Body Weight\"\n  },\n  scales: {\n    yAxes: [{\n      label: \"Day\",\n      ticks: {// suggestedMin: 170,\n        // suggestedMax: 200,\n      }\n    }]\n  }\n};\n\nfunction getToday(log) {\n  const dates = Object.keys(log);\n  return log[dates[dates.length - 1]];\n}\n\nfunction parseLog(log) {\n  const dates = Object.keys(log);\n  let result = [];\n  dates.forEach(date => result.push([date, log[date]]));\n  return {\n    labels: Object.keys(log),\n    datasets: [{\n      label: \"Raw Body Weight, #\",\n      data: Object.values(log),\n      fill: false,\n      backgroundColor: \"darkslategray\",\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBorderWidth: 2,\n      pointRadius: 2,\n      pointHitRadius: 10\n    }]\n  };\n}\n\nclass BodyWeightWidget extends React.Component {\n  //props={doing: <gaining/cutting/maintaining>, log: {date:weight}}\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      className: \"widget\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"overlay_text_small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, \"Body Weight\"))), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"widget_boxed_text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, \"Today: \", getToday(this.props.log), \" #\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"widget_boxed_text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, this.props.doing), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"widget_boxed_text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, \"On track?\", \" \", this.props.onTrack ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"\\uD83D\\uDC4D\") : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, \"\\uD83D\\uDC4E\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Line, {\n      style: {\n        padding: \"10px\"\n      },\n      className: \"chart\",\n      data: parseLog(this.props.log),\n      options: bwChartOptions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"widget_boxed_text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, \"Weekly Running Average: \", this.props.wra, \" #\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"widget_boxed_text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"\\u0394BW \\u2044 \\u0394t \\u2248 \", this.props.dwdt, \" # \\u2044 week\"))));\n  }\n\n}\n\nclass TrainingBlockWidget extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      className: \"widget\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"overlay_text_small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, \"Current Training Block\")), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, \"This widget is currently under developement.\")));\n  }\n\n}\n\nclass TrainingWeekWidget extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      className: \"widget\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"overlay_text_small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, \"Current Training Week\")), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, \"This widget is currently under developement.\")));\n  }\n\n}\n\nexport default class Dashboard extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      bwLog: 0,\n      bwDoing: \"\",\n      bw_wra: 0,\n      bw_dwdt: 0\n    };\n  }\n\n  componentDidMount() {\n    const rootRef = firebase.database().ref().child(\"users\").child(\"primary\");\n    const bw = rootRef.child(\"bw\");\n    const weightLog = bw.child(\"log\");\n    const bwMeta = bw.child(\"meta\");\n    const doing = bwMeta.child(\"doing\");\n    const bw_wra = bwMeta.child(\"wra\");\n    const bw_dwdt = bwMeta.child(\"dwdt\");\n    const bw_track = bwMeta.child(\"onTrack\");\n    doing.on(\"value\", snap => {\n      this.setState({\n        doing: snap.val()\n      });\n    });\n    weightLog.on(\"value\", snap => {\n      console.log(snap.val());\n      this.setState({\n        bwLog: snap.val()\n      });\n    });\n    bw_wra.on(\"value\", snap => {\n      this.setState({\n        bw_wra: snap.val()\n      });\n    });\n    bw_dwdt.on(\"value\", snap => {\n      this.setState({\n        bw_dwdt: snap.val()\n      });\n    });\n    bw_track.on(\"value\", snap => {\n      this.setState({\n        bw_onTrack: snap.val()\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"justify-content-md-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }\n    }, \"The Dashboard\"), /*#__PURE__*/React.createElement(TrainingBlockWidget, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(TrainingWeekWidget, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(BodyWeightWidget, {\n      doing: this.state.doing,\n      log: this.state.bwLog,\n      wra: this.state.bw_wra,\n      dwdt: this.state.bw_dwdt,\n      onTrack: this.state.bw_onTrack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/pwamsley/Desktop/important/programming/training/src/components/Dashboard.js"],"names":["React","Col","Container","Row","Line","firebase","firebaseConfig","apiKey","authDomain","databaseURL","storageBucket","initializeApp","db","week","days","stress","song","bwChartOptions","title","display","text","scales","yAxes","label","ticks","getToday","log","dates","Object","keys","length","parseLog","result","forEach","date","push","labels","datasets","data","values","fill","backgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBorderWidth","pointRadius","pointHitRadius","BodyWeightWidget","Component","constructor","props","render","doing","onTrack","padding","wra","dwdt","TrainingBlockWidget","TrainingWeekWidget","Dashboard","state","bwLog","bwDoing","bw_wra","bw_dwdt","componentDidMount","rootRef","database","ref","child","bw","weightLog","bwMeta","bw_track","on","snap","setState","val","console","bw_onTrack"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,GAAzB,QAAoC,iBAApC;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAO,cAAP;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,6BAFS;AAGrBC,EAAAA,WAAW,EAAE,qCAHQ;AAIrBC,EAAAA,aAAa,EAAE;AAJM,CAAvB;AAMAL,QAAQ,CAACM,aAAT,CAAuBL,cAAvB;AACA,MAAMM,EAAE,GAAG;AACTC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,OAAV,EAAmB,OAAnB,EAA4B,OAA5B,CADF;AAEJC,IAAAA,MAAM,EAAE,KAFJ;AAGJC,IAAAA,IAAI,EAAE;AAHF;AADG,CAAX;AAQA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,KADJ;AAELC,IAAAA,IAAI,EAAE;AAFD,GADc;AAKrBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,KAAK,EAAE,CACL;AACEC,MAAAA,KAAK,EAAE,KADT;AAEEC,MAAAA,KAAK,EAAE,CACL;AACA;AAFK;AAFT,KADK;AADD;AALa,CAAvB;;AAkBA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACrB,QAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYH,GAAZ,CAAd;AACA,SAAOA,GAAG,CAACC,KAAK,CAACA,KAAK,CAACG,MAAN,GAAe,CAAhB,CAAN,CAAV;AACD;;AAED,SAASC,QAAT,CAAkBL,GAAlB,EAAuB;AACrB,QAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYH,GAAZ,CAAd;AACA,MAAIM,MAAM,GAAG,EAAb;AACAL,EAAAA,KAAK,CAACM,OAAN,CAAeC,IAAD,IAAUF,MAAM,CAACG,IAAP,CAAY,CAACD,IAAD,EAAOR,GAAG,CAACQ,IAAD,CAAV,CAAZ,CAAxB;AAEA,SAAO;AACLE,IAAAA,MAAM,EAAER,MAAM,CAACC,IAAP,CAAYH,GAAZ,CADH;AAELW,IAAAA,QAAQ,EAAE,CACR;AACEd,MAAAA,KAAK,EAAE,oBADT;AAEEe,MAAAA,IAAI,EAAEV,MAAM,CAACW,MAAP,CAAcb,GAAd,CAFR;AAGEc,MAAAA,IAAI,EAAE,KAHR;AAIEC,MAAAA,eAAe,EAAE,eAJnB;AAKEC,MAAAA,gBAAgB,EAAE,CALpB;AAMEC,MAAAA,gBAAgB,EAAE,CANpB;AAOEC,MAAAA,qBAAqB,EAAE,CAPzB;AAQEC,MAAAA,WAAW,EAAE,CARf;AASEC,MAAAA,cAAc,EAAE;AATlB,KADQ;AAFL,GAAP;AAgBD;;AAED,MAAMC,gBAAN,SAA+B/C,KAAK,CAACgD,SAArC,CAA+C;AAC7C;AACAC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,CADF,eAME,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACU1B,QAAQ,CAAC,KAAKyB,KAAL,CAAWxB,GAAZ,CADlB,OADF,eAIE;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC,KAAKwB,KAAL,CAAWE,KAA7C,CAJF,eAKE;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACY,GADZ,EAEG,KAAKF,KAAL,CAAWG,OAAX,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,gBAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,CALF,CANF,eAoBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE;AAAX,OADT;AAEE,MAAA,SAAS,EAAC,OAFZ;AAGE,MAAA,IAAI,EAAEvB,QAAQ,CAAC,KAAKmB,KAAL,CAAWxB,GAAZ,CAHhB;AAIE,MAAA,OAAO,EAAET,cAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CADF,CApBF,eAiCE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAC2B,KAAKiC,KAAL,CAAWK,GADtC,OADF,eAIE;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACsC,KAAKL,KAAL,CAAWM,IADjD,mBAJF,CAjCF,CADF,CADF;AA+CD;;AAtD4C;;AAyD/C,MAAMC,mBAAN,SAAkCzD,KAAK,CAACgD,SAAxC,CAAkD;AAChDG,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,CADF,eAIE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAJF,CADF,CADF;AA0BD;;AA5B+C;;AA+BlD,MAAMO,kBAAN,SAAiC1D,KAAK,CAACgD,SAAvC,CAAiD;AAC/CG,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF,eAIE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAJF,CADF,CADF;AAwBD;;AA1B8C;;AA6BjD,eAAe,MAAMQ,SAAN,SAAwB3D,KAAK,CAACgD,SAA9B,CAAwC;AACrDC,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKW,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,CADI;AAEXC,MAAAA,OAAO,EAAE,EAFE;AAGXC,MAAAA,MAAM,EAAE,CAHG;AAIXC,MAAAA,OAAO,EAAE;AAJE,KAAb;AAMD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,OAAO,GAAG7D,QAAQ,CAAC8D,QAAT,GAAoBC,GAApB,GAA0BC,KAA1B,CAAgC,OAAhC,EAAyCA,KAAzC,CAA+C,SAA/C,CAAhB;AACA,UAAMC,EAAE,GAAGJ,OAAO,CAACG,KAAR,CAAc,IAAd,CAAX;AACA,UAAME,SAAS,GAAGD,EAAE,CAACD,KAAH,CAAS,KAAT,CAAlB;AACA,UAAMG,MAAM,GAAGF,EAAE,CAACD,KAAH,CAAS,MAAT,CAAf;AACA,UAAMjB,KAAK,GAAGoB,MAAM,CAACH,KAAP,CAAa,OAAb,CAAd;AACA,UAAMN,MAAM,GAAGS,MAAM,CAACH,KAAP,CAAa,KAAb,CAAf;AACA,UAAML,OAAO,GAAGQ,MAAM,CAACH,KAAP,CAAa,MAAb,CAAhB;AACA,UAAMI,QAAQ,GAAGD,MAAM,CAACH,KAAP,CAAa,SAAb,CAAjB;AACAjB,IAAAA,KAAK,CAACsB,EAAN,CAAS,OAAT,EAAmBC,IAAD,IAAU;AAC1B,WAAKC,QAAL,CAAc;AAAExB,QAAAA,KAAK,EAAEuB,IAAI,CAACE,GAAL;AAAT,OAAd;AACD,KAFD;AAGAN,IAAAA,SAAS,CAACG,EAAV,CAAa,OAAb,EAAuBC,IAAD,IAAU;AAC9BG,MAAAA,OAAO,CAACpD,GAAR,CAAYiD,IAAI,CAACE,GAAL,EAAZ;AACA,WAAKD,QAAL,CAAc;AACZf,QAAAA,KAAK,EAAEc,IAAI,CAACE,GAAL;AADK,OAAd;AAGD,KALD;AAMAd,IAAAA,MAAM,CAACW,EAAP,CAAU,OAAV,EAAoBC,IAAD,IAAU;AAC3B,WAAKC,QAAL,CAAc;AACZb,QAAAA,MAAM,EAAEY,IAAI,CAACE,GAAL;AADI,OAAd;AAGD,KAJD;AAMAb,IAAAA,OAAO,CAACU,EAAR,CAAW,OAAX,EAAqBC,IAAD,IAAU;AAC5B,WAAKC,QAAL,CAAc;AACZZ,QAAAA,OAAO,EAAEW,IAAI,CAACE,GAAL;AADG,OAAd;AAGD,KAJD;AAMAJ,IAAAA,QAAQ,CAACC,EAAT,CAAY,OAAZ,EAAsBC,IAAD,IAAU;AAC7B,WAAKC,QAAL,CAAc;AACZG,QAAAA,UAAU,EAAEJ,IAAI,CAACE,GAAL;AADA,OAAd;AAGD,KAJD;AAKD;;AAED1B,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAGE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,eAIE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,eAKE,oBAAC,gBAAD;AACE,MAAA,KAAK,EAAE,KAAKS,KAAL,CAAWR,KADpB;AAEE,MAAA,GAAG,EAAE,KAAKQ,KAAL,CAAWC,KAFlB;AAGE,MAAA,GAAG,EAAE,KAAKD,KAAL,CAAWG,MAHlB;AAIE,MAAA,IAAI,EAAE,KAAKH,KAAL,CAAWI,OAJnB;AAKE,MAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWmB,UALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF;AAeD;;AAhEoD","sourcesContent":["import React from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { Line } from \"react-chartjs-2\";\nimport \"../index.css\";\nimport * as firebase from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDVxWrRq-2t41ru4L3TmAW-EOYvX-sEOUY\",\n  authDomain: \"friday-4eeac.firebaseio.com\",\n  databaseURL: \"https://friday-4eeac.firebaseio.com\",\n  storageBucket: \"friday-4eeac.firebaseio.com\",\n};\nfirebase.initializeApp(firebaseConfig);\nconst db = {\n  week: {\n    days: [\"Day 1\", \"Day 2\", \"Day 3\", \"Day 4\"],\n    stress: \"Low\",\n    song: \"https://www.youtube.com/watch?v=cxkdIFOJAhw\",\n  },\n};\n\nconst bwChartOptions = {\n  title: {\n    display: false,\n    text: \"Body Weight\",\n  },\n  scales: {\n    yAxes: [\n      {\n        label: \"Day\",\n        ticks: {\n          // suggestedMin: 170,\n          // suggestedMax: 200,\n        },\n      },\n    ],\n  },\n};\n\nfunction getToday(log) {\n  const dates = Object.keys(log);\n  return log[dates[dates.length - 1]];\n}\n\nfunction parseLog(log) {\n  const dates = Object.keys(log);\n  let result = [];\n  dates.forEach((date) => result.push([date, log[date]]));\n\n  return {\n    labels: Object.keys(log),\n    datasets: [\n      {\n        label: \"Raw Body Weight, #\",\n        data: Object.values(log),\n        fill: false,\n        backgroundColor: \"darkslategray\",\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBorderWidth: 2,\n        pointRadius: 2,\n        pointHitRadius: 10,\n      },\n    ],\n  };\n}\n\nclass BodyWeightWidget extends React.Component {\n  //props={doing: <gaining/cutting/maintaining>, log: {date:weight}}\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <Container className=\"widget\">\n          <Row>\n            <Col>\n              <h3 className=\"overlay_text_small\">Body Weight</h3>\n            </Col>\n          </Row>\n          <Row className=\"justify-content-md-center\">\n            <p className=\"widget_boxed_text\">\n              Today: {getToday(this.props.log)} #\n            </p>\n            <p className=\"widget_boxed_text\">{this.props.doing}</p>\n            <p className=\"widget_boxed_text\">\n              On track?{\" \"}\n              {this.props.onTrack ? (\n                <span>&#x1f44d;</span>\n              ) : (\n                <span>&#x1f44e;</span>\n              )}\n            </p>\n          </Row>\n          <Row>\n            <Col>\n              {/* Graph */}\n              <div className=\"chart\">\n                <Line\n                  style={{ padding: \"10px\" }}\n                  className=\"chart\"\n                  data={parseLog(this.props.log)}\n                  options={bwChartOptions}\n                />\n              </div>\n            </Col>\n          </Row>\n          <Row className=\"justify-content-md-center\">\n            <p className=\"widget_boxed_text\">\n              Weekly Running Average: {this.props.wra} #\n            </p>\n            <p className=\"widget_boxed_text\">\n              &Delta;BW &frasl; &Delta;t &#8776; {this.props.dwdt} # &frasl;\n              week\n            </p>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nclass TrainingBlockWidget extends React.Component {\n  render() {\n    return (\n      <div>\n        <Container className=\"widget\">\n          <Row>\n            <h3 className=\"overlay_text_small\">Current Training Block</h3>\n          </Row>\n          <Row className=\"justify-content-md-center\">\n            This widget is currently under developement.\n          </Row>\n          {/* <Row>\n            Deltas\n            <Col>\n              <p className=\"widget_boxed_text\">&Delta;Squat</p>\n              <p className=\"widget_boxed_text\">&Delta;Bench</p>\n              <p className=\"widget_boxed_text\">&Delta;Deadlift</p>\n            </Col>\n            <Col>Graphs</Col>\n            <Col>\n              <p className=\"widget_boxed_text\">Type:</p>\n              <p className=\"widget_boxed_text\">Week n of m</p>\n              <p className=\"widget_boxed_text\">No meet coming up.</p>\n            </Col>\n          </Row> */}\n        </Container>\n      </div>\n    );\n  }\n}\n\nclass TrainingWeekWidget extends React.Component {\n  render() {\n    return (\n      <div>\n        <Container className=\"widget\">\n          <Row>\n            <h3 className=\"overlay_text_small\">Current Training Week</h3>\n          </Row>\n          <Row className=\"justify-content-md-center\">\n            This widget is currently under developement.\n          </Row>\n          {/* <Row>\n            <Col>\n              <p className=\"widget_boxed_text\">Stress: {db.week.stress}</p>\n            </Col>\n          </Row>\n          <Row>\n            {db.week.days.map((day, i) => (\n              <Col key={i}>\n                <span key={i + 100}>{day}</span>\n              </Col>\n            ))}\n          </Row> */}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default class Dashboard extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      bwLog: 0,\n      bwDoing: \"\",\n      bw_wra: 0,\n      bw_dwdt: 0,\n    };\n  }\n\n  componentDidMount() {\n    const rootRef = firebase.database().ref().child(\"users\").child(\"primary\");\n    const bw = rootRef.child(\"bw\");\n    const weightLog = bw.child(\"log\");\n    const bwMeta = bw.child(\"meta\");\n    const doing = bwMeta.child(\"doing\");\n    const bw_wra = bwMeta.child(\"wra\");\n    const bw_dwdt = bwMeta.child(\"dwdt\");\n    const bw_track = bwMeta.child(\"onTrack\");\n    doing.on(\"value\", (snap) => {\n      this.setState({ doing: snap.val() });\n    });\n    weightLog.on(\"value\", (snap) => {\n      console.log(snap.val());\n      this.setState({\n        bwLog: snap.val(),\n      });\n    });\n    bw_wra.on(\"value\", (snap) => {\n      this.setState({\n        bw_wra: snap.val(),\n      });\n    });\n\n    bw_dwdt.on(\"value\", (snap) => {\n      this.setState({\n        bw_dwdt: snap.val(),\n      });\n    });\n\n    bw_track.on(\"value\", (snap) => {\n      this.setState({\n        bw_onTrack: snap.val(),\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"justify-content-md-center\">\n        <h1 className=\"header\">The Dashboard</h1>\n\n        <TrainingBlockWidget />\n        <TrainingWeekWidget />\n        <BodyWeightWidget\n          doing={this.state.doing}\n          log={this.state.bwLog}\n          wra={this.state.bw_wra}\n          dwdt={this.state.bw_dwdt}\n          onTrack={this.state.bw_onTrack}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}